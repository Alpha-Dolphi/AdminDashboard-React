"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[833],{6833:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F});var i=n(7294),r=n(3148),a=n(6042),o=(n(5202),n(5998)),l=n(9790),d=n(8306),s=n(239),c=n(3379),u=n.n(c),p=n(7795),m=n.n(p),f=n(569),g=n.n(f),b=n(3565),v=n.n(b),h=n(9216),y=n.n(h),x=n(4589),E=n.n(x),I=n(7130),w={};w.styleTagTransform=E(),w.setAttributes=v(),w.insert=g().bind(null,"head"),w.domAPI=m(),w.insertStyleElement=y();u()(I.Z,w);const O=I.Z&&I.Z.locals?I.Z.locals:void 0;var C=n(3854),T=n(9352),j=n(5434),P=n(745);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function k(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=U(e);if(t){var r=U(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return D(this,n)}}function D(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return M(e)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},U(e)}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(c,e);var t,n,r,a=z(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),L(M(t=a.call(this,e)),"deleteTodoOnClick",(function(e){e.preventDefault();var n=e.target.closest("[id]").id;t.dispatch((0,l.aS)(n)).then((function(e){console.error(t.completedTodos),t.setState({completedTodos:Object.values(t.state.completedTodos).filter((function(e){return+e.id!=+n})),uncompletedTodos:Object.values(t.state.uncompletedTodos).filter((function(e){return+e.id!=+n}))})}))})),L(M(t),"interactTodoOnClick",(function(e){var n=e.target,i=t.findInParentNodes(e.target,"data-class","sortable-list-wrap",6).id,r=+t.findInParentNodes(n,"data-index","",2,!0).attributes["data-index"].value;t.setState({editing:A(A({},t.state.editing),{},L({},i,A(A({},t.state.editing[i]),{},L({},r,!t.state.editing[i][r]))))})})),L(M(t),"saveTodoOnClick",(function(e){var n,i=e.target.closest("[data-class='sortable-list-item']"),r=i.lastChild.lastChild.value;console.error(i.parentNode);var a=null===(n=i.attributes["data-userid"])||void 0===n?void 0:n.value,o="completedTodos"===i.parentNode.id;t.dispatch((0,l.CU)({id:i.id,changes:{title:r,id:i.id,completed:o,UserId:a}})).then((function(e){t.setState(L({},i.parentNode.id,Object.values(t.state[i.parentNode.id]).map((function(e){return+e.id==+i.id?A(A({},e),{},{title:r}):e}))))}))})),L(M(t),"findInParentNodes",(function(e,t,n){for(var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=e,o=0;o<i;o++){var l,d,s,c;if(!a)return null;if(r&&null!==(l=a)&&void 0!==l&&null!==(d=l.attributes[t])&&void 0!==d&&d.value)return a;if((null===(s=a)||void 0===s||null===(c=s.attributes[t])||void 0===c?void 0:c.value)===n)return a;a=a.parentNode}})),L(M(t),"clickHandler",(function(e){e.preventDefault();var n=t.findInParentNodes(e.target,"data-class","sortable-list-item",4);n&&!t.findInParentNodes(e.target,"data-class","icon",1)&&"INPUT"!==e.target.tagName?t.dragStart(n,e):"INPUT"===e.target.tagName&&e.target.focus()})),L(M(t),"dragStart",(function(e,n){var r,a=n.pageY,o=n.clientX,l=n.clientY;t.pointerInitialShift={x:o-e.getBoundingClientRect().x,y:l-e.getBoundingClientRect().y},t.initialColumnWrapId=e.parentNode.id,t.initialIndex=+(null==e||null===(r=e.attributes.index)||void 0===r?void 0:r.value),t.setState(L({},t.initialColumnWrapId,A(A({},t.state[t.initialColumnWrapId]),{},L({},t.initialIndex,A(A({},t.state[t.initialColumnWrapId][t.initialIndex]),{},{type:"placeholder"}))))),t.draggingElem=document.createElement("div"),t.draggingElem.className=O["sortable-list__item_dragging"],t.draggingElem.style.width="".concat(e.offsetWidth,"px"),t.draggingElem.style.height="".concat(e.offsetHeight,"px"),t.draggingElem.innerHTML=e.innerHTML;var d=t.draggingElem.firstChild.childNodes[1].firstChild,s=t.draggingElem.firstChild.childNodes[1],c=t.findInParentNodes(e,"data-class","sortable-list-wrap",2).id,u=e.attributes.index.value;if(t.state.editing[c][u]){t.draggingElem.lastChild.innerHTML=t.draggingElem.lastChild.firstChild.value,s.removeChild(d);var p=s.firstChild,m=document.createElement("span");P.createRoot(m).render(i.createElement(C.bnh,{className:O.update})),s.replaceChild(m,p),t.setState({editing:A(A({},t.state.editing),{},L({},c,A(A({},t.state.editing[c]),{},L({},u,!1))))})}t.draggingElem.style.position="absolute",t.draggingElem.style.top=a-t.pointerInitialShift.y+"px",t.prevItemElem=e,e.after(t.draggingElem),document.addEventListener("pointermove",t.onPointerMove),document.addEventListener("pointerup",t.onPoinerUp)})),L(M(t),"onPointerMove",(function(e){var n=e.pageY,i=e.clientX,r=e.clientY;t.draggingElem.style.position="fixed",t.moveDraggingAt(i,r),t.draggingElem.hidden=!0;var a=document.elementFromPoint(i,r);t.draggingElem.hidden=!1;var o=t.findInParentNodes(a,"data-class","sortable-list-item",3);if(o){var l,d=o.parentNode.id,s=+o.attributes.index.value;if(d!==t.initialColumnWrapId&&"placeholder"===t.state[t.initialColumnWrapId][t.initialIndex].type){var c,u=Object.values(t.state[d]),p=t.state[t.initialColumnWrapId][t.initialIndex];return t.setState((L(c={},d,A({},[].concat(k(u.slice(0,s)),[A({},p)],k(u.slice(s))))),L(c,t.initialColumnWrapId,A({},Object.values(t.state[t.initialColumnWrapId]).filter((function(e,n){return n!==t.initialIndex})))),c)),t.initialColumnWrapId=d,void(t.initialIndex=s)}if(t.initialIndex===s)return;t.setState(L({},d,A(A({},Object.values(t.state[d]).map((function(e){return A(A({},e),{},{type:"item"})}))),{},(L(l={},t.initialIndex,A(A({},t.state[d][s]),{},{type:"item"})),L(l,s,A(A({},t.state[d][t.initialIndex]),{},{type:"placeholder"})),l)))),t.initialIndex=s}t.scrollIfCloseToWindowEdge(r,n)})),L(M(t),"onPoinerUp",(function(e){var n,i=e.clientX,r=e.clientY;t.draggingElem.hidden=!0;var a=document.elementFromPoint(i,r);if(t.draggingElem.hidden=!1,"sortable-list-wrap"!==(null==a||null===(n=a.attributes["data-class"])||void 0===n?void 0:n.value)||Object.values(t.state[a.id]).length){var o,l;if("sortable-list-item"===(null==a||null===(o=a.attributes["data-class"])||void 0===o?void 0:o.value))t.initialIndex=+(null==a||null===(l=a.attributes.index)||void 0===l?void 0:l.value);if("placeholder"!==t.state[t.initialColumnWrapId][t.initialIndex].type)Object.values(t.state[t.initialColumnWrapId]).find((function(e){return"placeholder"===e.type}));var d=t.state[t.initialColumnWrapId];console.log(d,t.initialIndex,d[t.initialIndex].completed),t.setState(L({},t.initialColumnWrapId,A({},Object.values(t.state[t.initialColumnWrapId]).map((function(e){return A(A({},e),{},{type:"item"})})))))}else{var s,c=a.id;t.setState((L(s={},c,{0:A(A({},t.state[t.initialColumnWrapId][t.initialIndex]),{},{type:"item"})}),L(s,t.initialColumnWrapId,A({},Object.values(t.state[t.initialColumnWrapId]).filter((function(e,n){return n!==t.initialIndex})))),s))}document.removeEventListener("pointermove",t.onPointerMove),document.removeEventListener("pointerup",t.onPoinerUp),t.draggingElem.remove(),t.draggingElem=null,t.initialIndex=null,t.prevItemElem=null,t.pointerInitialShift})),L(M(t),"AccessToHooks",(function(){var e=(0,o.v9)(d._M);t.dispatch=(0,o.I0)(),t.uncompletedTodos=Object.values(e).filter((function(e){return!e.completed})),t.completedTodos=Object.values(e).filter((function(e){return e.completed}));var n={completedTodos:t.completedTodos,uncompletedTodos:t.uncompletedTodos};return(0,i.useEffect)((function(){t.state=A(A({},n),{},{editing:Object.keys(n).reduce((function(e,t){return A(A({},e),{},L({},t,n[t].map((function(e,t){return!1}))))}),{})})}),[]),t.sortableColumnsWrap=Object.keys(n).map((function(e,n){if("editing"!==e)return i.createElement("div",{key:e,className:O["sortable-list-wrap"],"data-class":"sortable-list-wrap",id:e,onPointerDown:t.clickHandler},t.getColumn(t.state[e],e))})),Object.values(t.sortableColumnsWrap)})),t.state=A(A({},e),{},{editing:Object.keys(t.props).reduce((function(t,n){return A(A({},t),{},L({},n,e[n].map((function(e,t){return!1}))))}),{})}),t}return t=c,(n=[{key:"scrollIfCloseToWindowEdge",value:function(e,t){var n=this;window.innerHeight-e<150&&!this.scrolling?(this.scrolling=!0,window.scrollBy({top:220,behavior:"smooth"}),setTimeout((function(){n.scrolling=!1}),"300")):e<150&&!this.scrolling&&(this.scrolling=!0,window.scrollBy({top:-220,behavior:"smooth"}),setTimeout((function(){n.scrolling=!1}),"300"))}},{key:"moveDraggingAt",value:function(e,t){var n=e-this.pointerInitialShift.x,i=t-this.pointerInitialShift.y;this.draggingElem.style.left=n+"px",this.draggingElem.style.top=i+"px"}},{key:"getColumn",value:function(e,t){var n=this;return i.createElement(i.Fragment,null,Object.values(e).map((function(e,r){var a,o;return"placeholder"===e.type?i.createElement("div",{key:e.id,style:{width:"100%",height:"".concat(null!==(a=n.draggingElem)&&void 0!==a&&a.style.height?null===(o=n.draggingElem)||void 0===o?void 0:o.style.height:"60px")},index:r,"data-class":"sortable-list-item"}):i.createElement("div",{key:e.id,id:e.id,"data-class":"sortable-list-item","data-userid":e.userId,index:r,className:O["sortable-list-item"]},i.createElement("div",{className:O["panel-container"]},i.createElement("div",{className:O.number},i.createElement("i",null,"Task №",e.id)),i.createElement("div",{className:O.panel},n.state.editing[t][r]?i.createElement(i.Fragment,null,i.createElement(j.PNx,{"data-class":"icon","data-index":r,onClick:function(e){return n.interactTodoOnClick(e)},className:O.quit}),i.createElement(j.NNq,{"data-class":"icon","data-index":r,onClick:function(e){return n.saveTodoOnClick(e)},className:O.save})):i.createElement(C.bnh,{"data-class":"icon","data-index":r,onClick:n.interactTodoOnClick,className:O.update}),i.createElement(T.qy0,{"data-class":"icon",id:e.id,"data-index":r,onClick:function(e){return n.deleteTodoOnClick(e)},className:O.delete}))),i.createElement("hr",{className:O.separator}),n.state.editing[t][r]?i.createElement("div",{className:O["textarea-wrap"]},i.createElement("input",{className:O.textarea,defaultValue:(0,s.i)(e.title)})):i.createElement("div",null,(0,s.i)(e.title)))})))}},{key:"render",value:function(){return i.createElement(this.AccessToHooks,null)}}])&&J(t.prototype,n),r&&J(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(i.Component),R=n(2395),B={};B.styleTagTransform=E(),B.setAttributes=v(),B.insert=g().bind(null,"head"),B.domAPI=m(),B.insertStyleElement=y();u()(R.Z,B);const q=R.Z&&R.Z.locals?R.Z.locals:void 0;function H(){var e=(0,o.I0)(),t=(0,o.v9)(d.j7),n=(0,o.v9)(d._M),r=Object.values(n).filter((function(e){return!e.completed})),a=Object.values(n).filter((function(e){return e.completed}));return(0,i.useEffect)((function(){e((0,l.zB)())}),[]),i.createElement(i.Fragment,null,i.createElement("div",{style:{display:"flex",gap:"1rem"}},i.createElement("div",{className:q.header},i.createElement("p",null,"Uncompleted:")," "),i.createElement("div",{className:q.header},i.createElement("p",null,"Completed: ")," ")),i.createElement("div",{style:{display:"flex",gap:"1rem"}},t?i.createElement(i.Fragment,null,i.createElement("div",{style:{boxShadow:"1px 1px 30px #999999",width:"100%",height:"600px",border:"1px solid #c6c9cb",borderRadius:"3px",padding:"5px",background:"white"}},i.createElement("div",{style:{width:"100%",height:"100%",background:"#ebebeb"}})),i.createElement("div",{style:{boxShadow:"1px 1px 30px #999999",width:"100%",height:"600px",border:"1px solid #c6c9cb",borderRadius:"3px",padding:"5px",background:"white"}},i.createElement("div",{style:{width:"100%",height:"100%",background:"#ebebeb"}}))):i.createElement(i.Fragment,null,i.createElement(Y,{completedTodos:a,uncompletedTodos:r}))))}const F=function(){return i.createElement(i.Fragment,null,i.createElement(r.X,{name:"TODOS PAGE"}),i.createElement(H,null),i.createElement(a.Ix,null))}},239:(e,t,n)=>{n.d(t,{i:()=>i});var i=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},7130:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(8081),r=n.n(i),a=n(3645),o=n.n(a)()(r());o.push([e.id,'.PWWwdYhPH6hvC6UM9V1S {\n  width: 100%;\n  min-height: 72px;\n  display: grid;\n  height: max-content;\n  background: #ebebeb;\n  border: 1px solid #c6c9cb;\n  border-radius: 0 0 3px 3px;\n  box-shadow: 1px 8px 30px var(--box-shadow);\n  padding: 5px;\n  gap: 5px;\n}\n\n.p7Ap4srvYJIKF2QA_fPX {\n  width: 100%;\n  height: 0.04rem;\n  background-color: #ebebeb;\n  border: 0.04rem solid #d8d8d8;\n  margin-top: 0.2rem;\n}\n\n.DOhhQ4aJJIANmE6UqGly div,\n.hTVWzjETJoq39ferJkxt div {\n  width: 100%;\n}\n\n.M6LD_Ktog777UptsAmPT {\n  font-weight: 600;\n}\n\n.DOhhQ4aJJIANmE6UqGly,\n.hTVWzjETJoq39ferJkxt {\n  width: 100%;\n  height: 90px;\n  background: rgb(255, 255, 255);\n  border: 1px solid #c6c9cb;\n  color: #4d5054;\n  border-radius: 3px;\n  padding: 0.6rem;\n  font-family: "Gill Sans", "Gill Sans MT", Calibri, "Trebuchet MS", sans-serif;\n  font-size: 1.2rem;\n  cursor: pointer;\n  user-select: none;\n  min-height: 60px;\n  overflow: hidden;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.hTVWzjETJoq39ferJkxt {\n  z-index: 10000;\n}\n\n.kZdyJEAKtbp0IiRyJ_RJ {\n  display: flex;\n  flex-direction: row;\n}\n\n.nCukAsUPv2OuT8C_TErr {\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  justify-content: flex-end;\n  column-gap: 0px;\n  margin-right: -0.4rem;\n  margin-top: -0.5rem;\n}\n\n.qpFpIliiLwFGeY2Wj9En,\n.K8xXBIczTLvS3nDSAjfn,\n.Ytg_zoaCf4R3MrkpO36m,\n.l7EBBdLTXWvHYlSZHBXz {\n  cursor: pointer;\n  font-size: 1.75rem;\n  color: var(--dark-text-color);\n  scale: 100%;\n  z-index: 1000;\n}\n\n.K8xXBIczTLvS3nDSAjfn {\n  font-size: 1.7rem;\n  margin-top: -0.1rem;\n}\n\n.DOhhQ4aJJIANmE6UqGly input {\n  transition: 200ms;\n  width: 100%;\n  font-family: "Gill Sans", "Gill Sans MT", Calibri, "Trebuchet MS", sans-serif;\n  font-size: 1.2rem;\n  border: 1px solid #c6c9cb;\n  color: var(--dark-text-color);\n  padding: 5px;\n}\n\n.DOhhQ4aJJIANmE6UqGly input:focus {\n  outline: 3px solid var(--textarea-outline);\n  -moz-outline-radius: 1px;\n  box-shadow: 0px 0px 15px var(--textarea-outline);\n}\n',""]),o.locals={"sortable-list-wrap":"PWWwdYhPH6hvC6UM9V1S",separator:"p7Ap4srvYJIKF2QA_fPX","sortable-list-item":"DOhhQ4aJJIANmE6UqGly","sortable-list__item_dragging":"hTVWzjETJoq39ferJkxt",number:"M6LD_Ktog777UptsAmPT","panel-container":"kZdyJEAKtbp0IiRyJ_RJ",panel:"nCukAsUPv2OuT8C_TErr",update:"qpFpIliiLwFGeY2Wj9En",delete:"K8xXBIczTLvS3nDSAjfn",save:"Ytg_zoaCf4R3MrkpO36m",quit:"l7EBBdLTXWvHYlSZHBXz"};const l=o},2395:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(8081),r=n.n(i),a=n(3645),o=n.n(a)()(r());o.push([e.id,"@import url(https://fonts.googleapis.com/css?family=Overpass);"]),o.push([e.id,'.WiN28EY36tWzPWuVALjw {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  font-family: "Gill Sans", "Gill Sans MT", Calibri, "Trebuchet MS", sans-serif;\n  font-size: 2.1rem;\n  padding: 1rem;\n  border-radius: 10px 10px 0 0;\n  overflow: hidden;\n  background: #1a1a1beb;\n  color: white;\n  border-bottom: 0;\n  box-shadow: 1px 8px 30px #999999;\n}\n\n.WiN28EY36tWzPWuVALjw p {\n  padding: 0;\n  margin: 0;\n}\n\n.WiN28EY36tWzPWuVALjw hr {\n  width: 100%;\n  height: 3px;\n  background-color: #a4a5a7;\n  border: 1px solid #a4a5a7;\n  border-radius: 2px;\n}\n',""]),o.locals={header:"WiN28EY36tWzPWuVALjw"};const l=o}}]);